      - name: Merge blocklists from NGUON_URLS (Actions Variables)
        run: |
          mkdir -p logs
          echo "" > ${{ env.OUTPUT_FILE }}
          echo "" > ${{ env.LOG_FILE }}

          echo "üì• B·∫Øt ƒë·∫ßu h·ª£p nh·∫•t t·ª´ NGUON_URLS..." >> ${{ env.LOG_FILE }}
          
          IFS=$'\n'
          echo "${{ vars.NGUON_URLS }}" | while read -r url; do
            [ -z "$url" ] && continue
            echo "üîó ƒêang x·ª≠ l√Ω: $url" >> ${{ env.LOG_FILE }}
            curl -sL "$url" | grep -vE '^\s*#|^\s*$' | awk '
              /^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+[[:space:]]+/ { print $2 }
              /^[a-zA-Z0-9.-]+$/ { print $0 }
            ' >> temp_hosts.txt || echo "‚ùå L·ªói t·∫£i $url" >> ${{ env.LOG_FILE }}
          done

          # L·ªçc b·ªè c√°c domain kh√¥ng mong mu·ªën (tu·ª≥ ch·ªânh th√™m n·∫øu c·∫ßn)
          grep -vE '^(localhost|broadcasthost|::1)$' temp_hosts.txt | sort -u > ${{ env.OUTPUT_FILE }}

          echo "‚úÖ ƒê√£ h·ª£p nh·∫•t $(wc -l < ${{ env.OUTPUT_FILE }}) t√™n mi·ªÅn." >> ${{ env.LOG_FILE }}
          rm -f temp_hosts.txt
